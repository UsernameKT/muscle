<% if post.post_comments.any? %>
  <div class="list-group">
    <% post.post_comments.each do |c| %>
      <div class="list-group-item">
        <div class="d-flex justify-content-between">
          <div>
            <%= link_to c.user.name, user_path(c.user), class: "text-decoration-none fw-bold" %>
            <span class="text-muted small ms-2"><%= l c.created_at, format: :short %></span>
          </div>

          <% if user_signed_in? && (c.user_id == current_user.id || post.user_id == current_user.id) %>
            <div class="d-flex gap-2">
              <%= link_to "編集", edit_post_post_comment_path(post, c), class: "btn btn-outline-secondary btn-sm" %>
              <%= button_to "削除", post_post_comment_path(post, c),
                    method: :delete,
                    form: { data: { turbo_confirm: "削除しますか？" } },
                    class: "btn btn-outline-danger btn-sm" %>
            </div>
          <% end %>
        </div>

        <div class="mt-2">
          <%= simple_format(c.comment) %>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <p class="text-muted">まだコメントはありません</p>
<% end %>

